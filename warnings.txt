Optimisations: avoid using a tree each time a block is created